<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8">
        <title>日记管理</title>
        <!--bootstrap.min.css-->
        <link rel="stylesheet" th:href="@{/bootstrap/css/bootstrap.min.css}">
        <script th:src="@{/bootstrap/js/jquery.js}"></script>
        <script th:src="@{/bootstrap/js/bootstrap.min.js}"></script>
        <script th:src="@{/bootstrap/js/extendPagination.js}"></script>
    </head>
    <body>
        <div id="callBackPagination" class="piece">
            <div id="mainContent"></div>
            <div id="callBackPager"></div>
        </div>
    </body>
    <script type="text/javascript">

        function callBackPagination() {
            var totalCount = 252, showCount = 1,
                limit = 10;
            createTable(1, limit, totalCount);
            $('#callBackPager').extendPagination({
                totalCount: totalCount,
                showCount: showCount,
                limit: limit,
                callback: function (curr, limit, totalCount) {
                    createTable(curr, limit, totalCount);
                }
            });
        }
        callBackPagination();


        function createTable(currPage, limit, total) {
            var html = [], showNum = limit;
            if (total - (currPage * limit) < 0) showNum = total - ((currPage - 1) * limit);
            html.push(' <table class="table table-hover piece" style="margin-left: 0;">');
            html.push(' <caption>悬停表格(' + total + ')</caption>');
            html.push(' <thead><tr><th>标题</th><th>标签</th><th>创建时间</th><th>操作</th></tr></thead><tbody>');
            for (var i = 1; i <= showNum; i++) {
                html.push('<tr><td>name' + currPage + '页_' + i + '</td>');
                html.push('<td>city' + currPage + '页_' + i + '</td>');
                html.push('<td>pwd' + currPage + '页_' + i + '</td>');
                html.push('<td>删除或者修改</td>');
                html.push('</tr>');
            }
            html.push('</tbody></table>');
            var mainObj = $('#mainContent');
            mainObj.empty();
            mainObj.html(html.join(''));
        }

    </script>
</html>